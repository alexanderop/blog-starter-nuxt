[{"data":1,"prerenderedAt":2043},["ShallowReactive",2],{"/blog/understanding-usesearch-composable":3},{"id":4,"title":5,"body":6,"date":2029,"description":2030,"extension":2031,"lastModified":2032,"meta":2033,"navigation":252,"path":2034,"readingTime":198,"seo":2035,"stem":2036,"tags":2037,"wordCount":2041,"__hash__":2042},"blog/blog/understanding-usesearch-composable.md","Understanding the useSearch Composable",{"type":7,"value":8,"toc":1994},"minimal",[9,13,22,27,35,39,44,47,75,79,99,103,129,133,137,308,312,315,574,577,604,608,612,676,683,687,927,930,962,966,1068,1071,1075,1079,1229,1232,1243,1247,1479,1482,1508,1512,1921,1925,1932,1935,1942,1945,1952,1955,1962,1965,1972,1975,1979,1984,1987,1990],[10,11,5],"h1",{"id":12},"understanding-the-usesearch-composable",[14,15,16,17,21],"p",{},"Building effective search functionality is crucial for content-heavy applications. In this blog, we've implemented a powerful ",[18,19,20],"strong",{},"custom search composable"," that provides real-time, scored search results across our content. Let's dive deep into how it works!",[23,24,26],"h2",{"id":25},"overview","Overview",[14,28,29,30,34],{},"The ",[31,32,33],"code",{},"useSearch"," composable is a Vue 3 composition function that provides comprehensive search capabilities for our Nuxt Content blog. It handles everything from data fetching to result scoring, debouncing, and text highlighting.",[23,36,38],{"id":37},"key-features","Key Features",[40,41,43],"h3",{"id":42},"smart-scoring-algorithm","🎯 Smart Scoring Algorithm",[14,45,46],{},"Our search doesn't just match text—it intelligently scores results:",[48,49,50,57,63,69],"ul",{},[51,52,53,56],"li",{},[18,54,55],{},"Title matches",": 10 points (highest priority)",[51,58,59,62],{},[18,60,61],{},"Tag matches",": 7 points",[51,64,65,68],{},[18,66,67],{},"Description matches",": 5 points",[51,70,71,74],{},[18,72,73],{},"Content matches",": 3 points (lowest priority)",[40,76,78],{"id":77},"performance-optimizations","⚡ Performance Optimizations",[48,80,81,87,93],{},[51,82,83,86],{},[18,84,85],{},"Debounced search",": Prevents excessive API calls during typing",[51,88,89,92],{},[18,90,91],{},"Async data loading",": Non-blocking content fetching",[51,94,95,98],{},[18,96,97],{},"Result limiting",": Configurable maximum results (default: 20)",[40,100,102],{"id":101},"enhanced-ux","🎨 Enhanced UX",[48,104,105,111,117,123],{},[51,106,107,110],{},[18,108,109],{},"Text highlighting",": Search terms are visually highlighted in results",[51,112,113,116],{},[18,114,115],{},"Content previews",": Automatic truncation with ellipsis",[51,118,119,122],{},[18,120,121],{},"Date formatting",": User-friendly date display",[51,124,125,128],{},[18,126,127],{},"Loading states",": Visual feedback during search operations",[23,130,132],{"id":131},"core-architecture","Core Architecture",[40,134,136],{"id":135},"interface-definitions","Interface Definitions",[138,139,144],"pre",{"className":140,"code":141,"language":142,"meta":143,"style":143},"language-typescript shiki shiki-themes dracula","interface SearchSection {\n  id: string\n  title?: string\n  content?: string\n  description?: string\n  tags?: string[]\n  date?: string\n  score?: number\n}\n\ninterface UseSearchOptions {\n  collection?: 'blog'\n  debounceDelay?: number\n  maxResults?: number\n}\n","typescript","",[31,145,146,163,175,186,196,206,220,230,241,247,254,264,283,293,303],{"__ignoreMap":143},[147,148,151,155,159],"span",{"class":149,"line":150},"line",1,[147,152,154],{"class":153},"s0Tla","interface",[147,156,158],{"class":157},"sCp4m"," SearchSection",[147,160,162],{"class":161},"sCdxs"," {\n",[147,164,166,169,172],{"class":149,"line":165},2,[147,167,168],{"class":161},"  id",[147,170,171],{"class":153},":",[147,173,174],{"class":157}," string\n",[147,176,178,181,184],{"class":149,"line":177},3,[147,179,180],{"class":161},"  title",[147,182,183],{"class":153},"?:",[147,185,174],{"class":157},[147,187,189,192,194],{"class":149,"line":188},4,[147,190,191],{"class":161},"  content",[147,193,183],{"class":153},[147,195,174],{"class":157},[147,197,199,202,204],{"class":149,"line":198},5,[147,200,201],{"class":161},"  description",[147,203,183],{"class":153},[147,205,174],{"class":157},[147,207,209,212,214,217],{"class":149,"line":208},6,[147,210,211],{"class":161},"  tags",[147,213,183],{"class":153},[147,215,216],{"class":157}," string",[147,218,219],{"class":161},"[]\n",[147,221,223,226,228],{"class":149,"line":222},7,[147,224,225],{"class":161},"  date",[147,227,183],{"class":153},[147,229,174],{"class":157},[147,231,233,236,238],{"class":149,"line":232},8,[147,234,235],{"class":161},"  score",[147,237,183],{"class":153},[147,239,240],{"class":157}," number\n",[147,242,244],{"class":149,"line":243},9,[147,245,246],{"class":161},"}\n",[147,248,250],{"class":149,"line":249},10,[147,251,253],{"emptyLinePlaceholder":252},true,"\n",[147,255,257,259,262],{"class":149,"line":256},11,[147,258,154],{"class":153},[147,260,261],{"class":157}," UseSearchOptions",[147,263,162],{"class":161},[147,265,267,270,272,276,280],{"class":149,"line":266},12,[147,268,269],{"class":161},"  collection",[147,271,183],{"class":153},[147,273,275],{"class":274},"seVfx"," '",[147,277,279],{"class":278},"s-mGx","blog",[147,281,282],{"class":274},"'\n",[147,284,286,289,291],{"class":149,"line":285},13,[147,287,288],{"class":161},"  debounceDelay",[147,290,183],{"class":153},[147,292,240],{"class":157},[147,294,296,299,301],{"class":149,"line":295},14,[147,297,298],{"class":161},"  maxResults",[147,300,183],{"class":153},[147,302,240],{"class":157},[147,304,306],{"class":149,"line":305},15,[147,307,246],{"class":161},[40,309,311],{"id":310},"the-search-scoring-algorithm","The Search Scoring Algorithm",[14,313,314],{},"The heart of our search functionality lies in the scoring system:",[138,316,318],{"className":140,"code":317,"language":142,"meta":143,"style":143},"const calculateSearchScore = (section: SearchSection, query: string): number => {\n  let score = 0\n  const normalizedQuery = query.toLowerCase()\n  \n  const titleMatch = section.title?.toLowerCase().includes(normalizedQuery)\n  const contentMatch = section.content?.toLowerCase().includes(normalizedQuery)\n  const descriptionMatch = section.description?.toLowerCase().includes(normalizedQuery)\n  const tagMatch = section.tags?.some(tag => tag.toLowerCase().includes(normalizedQuery))\n  \n  if (titleMatch) score += 10\n  if (descriptionMatch) score += 5\n  if (contentMatch) score += 3\n  if (tagMatch) score += 7\n  \n  return score\n}\n",[31,319,320,366,381,400,405,428,448,468,503,507,521,533,545,557,561,569],{"__ignoreMap":143},[147,321,322,325,329,332,335,339,341,343,346,349,351,353,356,358,361,364],{"class":149,"line":150},[147,323,324],{"class":153},"const",[147,326,328],{"class":327},"sAOxA"," calculateSearchScore",[147,330,331],{"class":153}," =",[147,333,334],{"class":161}," (",[147,336,338],{"class":337},"sGEwX","section",[147,340,171],{"class":153},[147,342,158],{"class":157},[147,344,345],{"class":161},", ",[147,347,348],{"class":337},"query",[147,350,171],{"class":153},[147,352,216],{"class":157},[147,354,355],{"class":161},")",[147,357,171],{"class":153},[147,359,360],{"class":157}," number",[147,362,363],{"class":153}," =>",[147,365,162],{"class":161},[147,367,368,371,374,377],{"class":149,"line":165},[147,369,370],{"class":153},"  let",[147,372,373],{"class":161}," score ",[147,375,376],{"class":153},"=",[147,378,380],{"class":379},"sIQBb"," 0\n",[147,382,383,386,389,391,394,397],{"class":149,"line":177},[147,384,385],{"class":153},"  const",[147,387,388],{"class":161}," normalizedQuery ",[147,390,376],{"class":153},[147,392,393],{"class":161}," query.",[147,395,396],{"class":327},"toLowerCase",[147,398,399],{"class":161},"()\n",[147,401,402],{"class":149,"line":188},[147,403,404],{"class":161},"  \n",[147,406,407,409,412,414,417,419,422,425],{"class":149,"line":198},[147,408,385],{"class":153},[147,410,411],{"class":161}," titleMatch ",[147,413,376],{"class":153},[147,415,416],{"class":161}," section.title?.",[147,418,396],{"class":327},[147,420,421],{"class":161},"().",[147,423,424],{"class":327},"includes",[147,426,427],{"class":161},"(normalizedQuery)\n",[147,429,430,432,435,437,440,442,444,446],{"class":149,"line":208},[147,431,385],{"class":153},[147,433,434],{"class":161}," contentMatch ",[147,436,376],{"class":153},[147,438,439],{"class":161}," section.content?.",[147,441,396],{"class":327},[147,443,421],{"class":161},[147,445,424],{"class":327},[147,447,427],{"class":161},[147,449,450,452,455,457,460,462,464,466],{"class":149,"line":222},[147,451,385],{"class":153},[147,453,454],{"class":161}," descriptionMatch ",[147,456,376],{"class":153},[147,458,459],{"class":161}," section.description?.",[147,461,396],{"class":327},[147,463,421],{"class":161},[147,465,424],{"class":327},[147,467,427],{"class":161},[147,469,470,472,475,477,480,483,486,489,491,494,496,498,500],{"class":149,"line":232},[147,471,385],{"class":153},[147,473,474],{"class":161}," tagMatch ",[147,476,376],{"class":153},[147,478,479],{"class":161}," section.tags?.",[147,481,482],{"class":327},"some",[147,484,485],{"class":161},"(",[147,487,488],{"class":337},"tag",[147,490,363],{"class":153},[147,492,493],{"class":161}," tag.",[147,495,396],{"class":327},[147,497,421],{"class":161},[147,499,424],{"class":327},[147,501,502],{"class":161},"(normalizedQuery))\n",[147,504,505],{"class":149,"line":243},[147,506,404],{"class":161},[147,508,509,512,515,518],{"class":149,"line":249},[147,510,511],{"class":153},"  if",[147,513,514],{"class":161}," (titleMatch) score ",[147,516,517],{"class":153},"+=",[147,519,520],{"class":379}," 10\n",[147,522,523,525,528,530],{"class":149,"line":256},[147,524,511],{"class":153},[147,526,527],{"class":161}," (descriptionMatch) score ",[147,529,517],{"class":153},[147,531,532],{"class":379}," 5\n",[147,534,535,537,540,542],{"class":149,"line":266},[147,536,511],{"class":153},[147,538,539],{"class":161}," (contentMatch) score ",[147,541,517],{"class":153},[147,543,544],{"class":379}," 3\n",[147,546,547,549,552,554],{"class":149,"line":285},[147,548,511],{"class":153},[147,550,551],{"class":161}," (tagMatch) score ",[147,553,517],{"class":153},[147,555,556],{"class":379}," 7\n",[147,558,559],{"class":149,"line":295},[147,560,404],{"class":161},[147,562,563,566],{"class":149,"line":305},[147,564,565],{"class":153},"  return",[147,567,568],{"class":161}," score\n",[147,570,572],{"class":149,"line":571},16,[147,573,246],{"class":161},[14,575,576],{},"This scoring system ensures that:",[578,579,580,586,592,598],"ol",{},[51,581,582,585],{},[18,583,584],{},"Titles"," get the highest priority (users often search for specific topics)",[51,587,588,591],{},[18,589,590],{},"Tags"," are highly valued (they represent key categories)",[51,593,594,597],{},[18,595,596],{},"Descriptions"," provide good context matching",[51,599,600,603],{},[18,601,602],{},"Content"," matches are included but weighted lower (to avoid noise)",[23,605,607],{"id":606},"search-operation-flow","Search Operation Flow",[40,609,611],{"id":610},"_1-data-fetching","1. Data Fetching",[138,613,615],{"className":140,"code":614,"language":142,"meta":143,"style":143},"const { data: searchData } = await useAsyncData(`search-sections-${collection}`, () => \n  queryCollectionSearchSections(collection)\n)\n",[31,616,617,663,671],{"__ignoreMap":143},[147,618,619,621,624,626,629,631,634,637,639,642,645,648,651,654,657,660],{"class":149,"line":150},[147,620,324],{"class":153},[147,622,623],{"class":161}," { data",[147,625,171],{"class":153},[147,627,628],{"class":161}," searchData } ",[147,630,376],{"class":153},[147,632,633],{"class":153}," await",[147,635,636],{"class":327}," useAsyncData",[147,638,485],{"class":161},[147,640,641],{"class":278},"`search-sections-",[147,643,644],{"class":153},"${",[147,646,647],{"class":161},"collection",[147,649,650],{"class":153},"}",[147,652,653],{"class":278},"`",[147,655,656],{"class":161},", () ",[147,658,659],{"class":153},"=>",[147,661,662],{"class":161}," \n",[147,664,665,668],{"class":149,"line":165},[147,666,667],{"class":327},"  queryCollectionSearchSections",[147,669,670],{"class":161},"(collection)\n",[147,672,673],{"class":149,"line":177},[147,674,675],{"class":161},")\n",[14,677,678,679,682],{},"The composable uses Nuxt's ",[31,680,681],{},"useAsyncData"," to fetch and cache search data efficiently.",[40,684,686],{"id":685},"_2-search-processing","2. Search Processing",[138,688,690],{"className":140,"code":689,"language":142,"meta":143,"style":143},"const performSearchOperation = (\n  sections: SearchSection[], \n  query: string, \n  maxResults: number\n): SearchSection[] => {\n  if (!query.trim()) return []\n  \n  const normalizedQuery = query.toLowerCase().trim()\n  \n  return sections\n    .map(section => ({\n      ...section,\n      score: calculateSearchScore(section, normalizedQuery)\n    }))\n    .filter(section => section.score > 0)\n    .sort((a, b) => b.score - a.score)\n    .slice(0, maxResults)\n}\n",[31,691,692,704,716,728,736,751,775,779,797,801,808,825,833,845,850,874,906,922],{"__ignoreMap":143},[147,693,694,696,699,701],{"class":149,"line":150},[147,695,324],{"class":153},[147,697,698],{"class":327}," performSearchOperation",[147,700,331],{"class":153},[147,702,703],{"class":161}," (\n",[147,705,706,709,711,713],{"class":149,"line":165},[147,707,708],{"class":337},"  sections",[147,710,171],{"class":153},[147,712,158],{"class":157},[147,714,715],{"class":161},"[], \n",[147,717,718,721,723,725],{"class":149,"line":177},[147,719,720],{"class":337},"  query",[147,722,171],{"class":153},[147,724,216],{"class":157},[147,726,727],{"class":161},", \n",[147,729,730,732,734],{"class":149,"line":188},[147,731,298],{"class":337},[147,733,171],{"class":153},[147,735,240],{"class":157},[147,737,738,740,742,744,747,749],{"class":149,"line":198},[147,739,355],{"class":161},[147,741,171],{"class":153},[147,743,158],{"class":157},[147,745,746],{"class":161},"[] ",[147,748,659],{"class":153},[147,750,162],{"class":161},[147,752,753,755,757,760,763,766,769,772],{"class":149,"line":208},[147,754,511],{"class":153},[147,756,334],{"class":161},[147,758,759],{"class":153},"!",[147,761,762],{"class":161},"query.",[147,764,765],{"class":327},"trim",[147,767,768],{"class":161},"()) ",[147,770,771],{"class":153},"return",[147,773,774],{"class":161}," []\n",[147,776,777],{"class":149,"line":222},[147,778,404],{"class":161},[147,780,781,783,785,787,789,791,793,795],{"class":149,"line":232},[147,782,385],{"class":153},[147,784,388],{"class":161},[147,786,376],{"class":153},[147,788,393],{"class":161},[147,790,396],{"class":327},[147,792,421],{"class":161},[147,794,765],{"class":327},[147,796,399],{"class":161},[147,798,799],{"class":149,"line":243},[147,800,404],{"class":161},[147,802,803,805],{"class":149,"line":249},[147,804,565],{"class":153},[147,806,807],{"class":161}," sections\n",[147,809,810,813,816,818,820,822],{"class":149,"line":256},[147,811,812],{"class":161},"    .",[147,814,815],{"class":327},"map",[147,817,485],{"class":161},[147,819,338],{"class":337},[147,821,363],{"class":153},[147,823,824],{"class":161}," ({\n",[147,826,827,830],{"class":149,"line":266},[147,828,829],{"class":153},"      ...",[147,831,832],{"class":161},"section,\n",[147,834,835,838,840,842],{"class":149,"line":285},[147,836,837],{"class":161},"      score",[147,839,171],{"class":153},[147,841,328],{"class":327},[147,843,844],{"class":161},"(section, normalizedQuery)\n",[147,846,847],{"class":149,"line":295},[147,848,849],{"class":161},"    }))\n",[147,851,852,854,857,859,861,863,866,869,872],{"class":149,"line":305},[147,853,812],{"class":161},[147,855,856],{"class":327},"filter",[147,858,485],{"class":161},[147,860,338],{"class":337},[147,862,363],{"class":153},[147,864,865],{"class":161}," section.score ",[147,867,868],{"class":153},">",[147,870,871],{"class":379}," 0",[147,873,675],{"class":161},[147,875,876,878,881,884,887,889,892,895,897,900,903],{"class":149,"line":571},[147,877,812],{"class":161},[147,879,880],{"class":327},"sort",[147,882,883],{"class":161},"((",[147,885,886],{"class":337},"a",[147,888,345],{"class":161},[147,890,891],{"class":337},"b",[147,893,894],{"class":161},") ",[147,896,659],{"class":153},[147,898,899],{"class":161}," b.score ",[147,901,902],{"class":153},"-",[147,904,905],{"class":161}," a.score)\n",[147,907,909,911,914,916,919],{"class":149,"line":908},17,[147,910,812],{"class":161},[147,912,913],{"class":327},"slice",[147,915,485],{"class":161},[147,917,918],{"class":379},"0",[147,920,921],{"class":161},", maxResults)\n",[147,923,925],{"class":149,"line":924},18,[147,926,246],{"class":161},[14,928,929],{},"The search process:",[578,931,932,938,944,950,956],{},[51,933,934,937],{},[18,935,936],{},"Normalizes"," the query (lowercase, trimmed)",[51,939,940,943],{},[18,941,942],{},"Scores"," each section",[51,945,946,949],{},[18,947,948],{},"Filters"," out zero-score results",[51,951,952,955],{},[18,953,954],{},"Sorts"," by score (highest first)",[51,957,958,961],{},[18,959,960],{},"Limits"," results to prevent overwhelming the UI",[40,963,965],{"id":964},"_3-debounced-execution","3. Debounced Execution",[138,967,969],{"className":140,"code":968,"language":142,"meta":143,"style":143},"const createDebouncedFunction = (fn: () => void, delay: number) => {\n  let timeoutId: NodeJS.Timeout\n  return () => {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(fn, delay)\n  }\n}\n",[31,970,971,1010,1028,1038,1046,1059,1064],{"__ignoreMap":143},[147,972,973,975,978,980,982,985,987,990,992,995,997,1000,1002,1004,1006,1008],{"class":149,"line":150},[147,974,324],{"class":153},[147,976,977],{"class":327}," createDebouncedFunction",[147,979,331],{"class":153},[147,981,334],{"class":161},[147,983,984],{"class":327},"fn",[147,986,171],{"class":153},[147,988,989],{"class":161}," () ",[147,991,659],{"class":153},[147,993,994],{"class":157}," void",[147,996,345],{"class":161},[147,998,999],{"class":337},"delay",[147,1001,171],{"class":153},[147,1003,360],{"class":157},[147,1005,894],{"class":161},[147,1007,659],{"class":153},[147,1009,162],{"class":161},[147,1011,1012,1014,1017,1019,1022,1025],{"class":149,"line":165},[147,1013,370],{"class":153},[147,1015,1016],{"class":161}," timeoutId",[147,1018,171],{"class":153},[147,1020,1021],{"class":157}," NodeJS",[147,1023,1024],{"class":161},".",[147,1026,1027],{"class":157},"Timeout\n",[147,1029,1030,1032,1034,1036],{"class":149,"line":177},[147,1031,565],{"class":153},[147,1033,989],{"class":161},[147,1035,659],{"class":153},[147,1037,162],{"class":161},[147,1039,1040,1043],{"class":149,"line":188},[147,1041,1042],{"class":327},"    clearTimeout",[147,1044,1045],{"class":161},"(timeoutId)\n",[147,1047,1048,1051,1053,1056],{"class":149,"line":198},[147,1049,1050],{"class":161},"    timeoutId ",[147,1052,376],{"class":153},[147,1054,1055],{"class":327}," setTimeout",[147,1057,1058],{"class":161},"(fn, delay)\n",[147,1060,1061],{"class":149,"line":208},[147,1062,1063],{"class":161},"  }\n",[147,1065,1066],{"class":149,"line":222},[147,1067,246],{"class":161},[14,1069,1070],{},"Debouncing prevents excessive search operations while the user is typing, improving performance and user experience.",[23,1072,1074],{"id":1073},"text-processing-features","Text Processing Features",[40,1076,1078],{"id":1077},"content-preview-generation","Content Preview Generation",[138,1080,1082],{"className":140,"code":1081,"language":142,"meta":143,"style":143},"const createContentPreview = (content: string): string => {\n  if (!content) return ''\n  const cleaned = content.replace(/[#*`]/g, '').trim()\n  return cleaned.length > 150 ? cleaned.substring(0, 150) + '...' : cleaned\n}\n",[31,1083,1084,1112,1128,1176,1225],{"__ignoreMap":143},[147,1085,1086,1088,1091,1093,1095,1098,1100,1102,1104,1106,1108,1110],{"class":149,"line":150},[147,1087,324],{"class":153},[147,1089,1090],{"class":327}," createContentPreview",[147,1092,331],{"class":153},[147,1094,334],{"class":161},[147,1096,1097],{"class":337},"content",[147,1099,171],{"class":153},[147,1101,216],{"class":157},[147,1103,355],{"class":161},[147,1105,171],{"class":153},[147,1107,216],{"class":157},[147,1109,363],{"class":153},[147,1111,162],{"class":161},[147,1113,1114,1116,1118,1120,1123,1125],{"class":149,"line":165},[147,1115,511],{"class":153},[147,1117,334],{"class":161},[147,1119,759],{"class":153},[147,1121,1122],{"class":161},"content) ",[147,1124,771],{"class":153},[147,1126,1127],{"class":274}," ''\n",[147,1129,1130,1132,1135,1137,1140,1143,1145,1149,1153,1156,1159,1161,1164,1166,1169,1172,1174],{"class":149,"line":177},[147,1131,385],{"class":153},[147,1133,1134],{"class":161}," cleaned ",[147,1136,376],{"class":153},[147,1138,1139],{"class":161}," content.",[147,1141,1142],{"class":327},"replace",[147,1144,485],{"class":161},[147,1146,1148],{"class":1147},"s-doY","/",[147,1150,1152],{"class":1151},"sLL85","[",[147,1154,1155],{"class":278},"#*`",[147,1157,1158],{"class":1151},"]",[147,1160,1148],{"class":1147},[147,1162,1163],{"class":153},"g",[147,1165,345],{"class":161},[147,1167,1168],{"class":274},"''",[147,1170,1171],{"class":161},").",[147,1173,765],{"class":327},[147,1175,399],{"class":161},[147,1177,1178,1180,1183,1185,1188,1191,1194,1197,1199,1201,1203,1206,1208,1211,1213,1216,1219,1222],{"class":149,"line":188},[147,1179,565],{"class":153},[147,1181,1182],{"class":161}," cleaned.length ",[147,1184,868],{"class":153},[147,1186,1187],{"class":379}," 150",[147,1189,1190],{"class":153}," ?",[147,1192,1193],{"class":161}," cleaned.",[147,1195,1196],{"class":327},"substring",[147,1198,485],{"class":161},[147,1200,918],{"class":379},[147,1202,345],{"class":161},[147,1204,1205],{"class":379},"150",[147,1207,894],{"class":161},[147,1209,1210],{"class":153},"+",[147,1212,275],{"class":274},[147,1214,1215],{"class":278},"...",[147,1217,1218],{"class":274},"'",[147,1220,1221],{"class":153}," :",[147,1223,1224],{"class":161}," cleaned\n",[147,1226,1227],{"class":149,"line":198},[147,1228,246],{"class":161},[14,1230,1231],{},"This function:",[48,1233,1234,1237,1240],{},[51,1235,1236],{},"Removes Markdown formatting characters",[51,1238,1239],{},"Truncates long content to 150 characters",[51,1241,1242],{},"Adds ellipsis for truncated content",[40,1244,1246],{"id":1245},"text-highlighting","Text Highlighting",[138,1248,1250],{"className":140,"code":1249,"language":142,"meta":143,"style":143},"const createHighlightedText = (text: string, query: string): string => {\n  if (!text || !query) return text\n  \n  const escapedText = escapeHtml(text)\n  const escapedQuery = escapeHtml(query.trim())\n  \n  if (!escapedQuery) return escapedText\n  \n  const regex = new RegExp(`(${escapedQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi')\n  \n  return escapedText.replace(regex, '\u003Cmark class=\"bg-yellow-400 text-gray-900 px-1 rounded\">$1\u003C/mark>')\n}\n",[31,1251,1252,1288,1313,1317,1332,1351,1355,1371,1375,1450,1454,1475],{"__ignoreMap":143},[147,1253,1254,1256,1259,1261,1263,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286],{"class":149,"line":150},[147,1255,324],{"class":153},[147,1257,1258],{"class":327}," createHighlightedText",[147,1260,331],{"class":153},[147,1262,334],{"class":161},[147,1264,1265],{"class":337},"text",[147,1267,171],{"class":153},[147,1269,216],{"class":157},[147,1271,345],{"class":161},[147,1273,348],{"class":337},[147,1275,171],{"class":153},[147,1277,216],{"class":157},[147,1279,355],{"class":161},[147,1281,171],{"class":153},[147,1283,216],{"class":157},[147,1285,363],{"class":153},[147,1287,162],{"class":161},[147,1289,1290,1292,1294,1296,1299,1302,1305,1308,1310],{"class":149,"line":165},[147,1291,511],{"class":153},[147,1293,334],{"class":161},[147,1295,759],{"class":153},[147,1297,1298],{"class":161},"text ",[147,1300,1301],{"class":153},"||",[147,1303,1304],{"class":153}," !",[147,1306,1307],{"class":161},"query) ",[147,1309,771],{"class":153},[147,1311,1312],{"class":161}," text\n",[147,1314,1315],{"class":149,"line":177},[147,1316,404],{"class":161},[147,1318,1319,1321,1324,1326,1329],{"class":149,"line":188},[147,1320,385],{"class":153},[147,1322,1323],{"class":161}," escapedText ",[147,1325,376],{"class":153},[147,1327,1328],{"class":327}," escapeHtml",[147,1330,1331],{"class":161},"(text)\n",[147,1333,1334,1336,1339,1341,1343,1346,1348],{"class":149,"line":198},[147,1335,385],{"class":153},[147,1337,1338],{"class":161}," escapedQuery ",[147,1340,376],{"class":153},[147,1342,1328],{"class":327},[147,1344,1345],{"class":161},"(query.",[147,1347,765],{"class":327},[147,1349,1350],{"class":161},"())\n",[147,1352,1353],{"class":149,"line":208},[147,1354,404],{"class":161},[147,1356,1357,1359,1361,1363,1366,1368],{"class":149,"line":222},[147,1358,511],{"class":153},[147,1360,334],{"class":161},[147,1362,759],{"class":153},[147,1364,1365],{"class":161},"escapedQuery) ",[147,1367,771],{"class":153},[147,1369,1370],{"class":161}," escapedText\n",[147,1372,1373],{"class":149,"line":232},[147,1374,404],{"class":161},[147,1376,1377,1379,1382,1384,1388,1391,1393,1396,1398,1401,1403,1405,1407,1409,1411,1414,1416,1418,1420,1422,1424,1427,1430,1432,1434,1436,1439,1441,1443,1446,1448],{"class":149,"line":243},[147,1378,385],{"class":153},[147,1380,1381],{"class":161}," regex ",[147,1383,376],{"class":153},[147,1385,1387],{"class":1386},"sviCg"," new",[147,1389,1390],{"class":327}," RegExp",[147,1392,485],{"class":161},[147,1394,1395],{"class":278},"`(",[147,1397,644],{"class":153},[147,1399,1400],{"class":161},"escapedQuery.",[147,1402,1142],{"class":327},[147,1404,485],{"class":161},[147,1406,1148],{"class":1147},[147,1408,1152],{"class":1151},[147,1410,1024],{"class":379},[147,1412,1413],{"class":278},"*+?^${}()|[\\]\\\\",[147,1415,1158],{"class":1151},[147,1417,1148],{"class":1147},[147,1419,1163],{"class":153},[147,1421,345],{"class":278},[147,1423,1218],{"class":274},[147,1425,1426],{"class":153},"\\\\",[147,1428,1429],{"class":278},"$&",[147,1431,1218],{"class":274},[147,1433,355],{"class":161},[147,1435,650],{"class":153},[147,1437,1438],{"class":278},")`",[147,1440,345],{"class":161},[147,1442,1218],{"class":274},[147,1444,1445],{"class":278},"gi",[147,1447,1218],{"class":274},[147,1449,675],{"class":161},[147,1451,1452],{"class":149,"line":249},[147,1453,404],{"class":161},[147,1455,1456,1458,1461,1463,1466,1468,1471,1473],{"class":149,"line":256},[147,1457,565],{"class":153},[147,1459,1460],{"class":161}," escapedText.",[147,1462,1142],{"class":327},[147,1464,1465],{"class":161},"(regex, ",[147,1467,1218],{"class":274},[147,1469,1470],{"class":278},"\u003Cmark class=\"bg-yellow-400 text-gray-900 px-1 rounded\">$1\u003C/mark>",[147,1472,1218],{"class":274},[147,1474,675],{"class":161},[147,1476,1477],{"class":149,"line":266},[147,1478,246],{"class":161},[14,1480,1481],{},"The highlighting feature:",[48,1483,1484,1490,1496,1502],{},[51,1485,1486,1489],{},[18,1487,1488],{},"Escapes HTML"," to prevent XSS attacks",[51,1491,1492,1495],{},[18,1493,1494],{},"Escapes regex"," special characters",[51,1497,1498,1501],{},[18,1499,1500],{},"Case-insensitive"," matching",[51,1503,1504,1507],{},[18,1505,1506],{},"Applies styling"," with Tailwind CSS classes",[23,1509,1511],{"id":1510},"usage-example","Usage Example",[138,1513,1517],{"className":1514,"code":1515,"language":1516,"meta":143,"style":143},"language-vue shiki shiki-themes dracula","\u003Cscript setup>\nconst { \n  searchQuery, \n  searchResults, \n  isLoading, \n  handleSearch, \n  clearSearch,\n  highlightText,\n  getContentPreview,\n  formatDate \n} = await useSearch({\n  collection: 'blog',\n  debounceDelay: 300,\n  maxResults: 10\n})\n\u003C/script>\n\n\u003Ctemplate>\n  \u003Cdiv>\n    \u003Cinput \n      v-model=\"searchQuery\" \n      @input=\"handleSearch\"\n      placeholder=\"Search posts...\"\n    />\n    \n    \u003Cdiv v-if=\"isLoading\">Searching...\u003C/div>\n    \n    \u003Cdiv v-for=\"result in searchResults\" :key=\"result.id\">\n      \u003Ch3 v-html=\"highlightText(result.title, searchQuery)\" />\n      \u003Cp>{{ getContentPreview(result.content) }}\u003C/p>\n      \u003Csmall>{{ formatDate(result.date) }}\u003C/small>\n    \u003C/div>\n  \u003C/div>\n\u003C/template>\n","vue",[31,1518,1519,1534,1541,1546,1551,1556,1561,1566,1571,1576,1581,1596,1611,1622,1630,1635,1644,1648,1657,1668,1679,1697,1715,1730,1736,1742,1766,1771,1810,1839,1866,1892,1902,1912],{"__ignoreMap":143},[147,1520,1521,1524,1527,1531],{"class":149,"line":150},[147,1522,1523],{"class":161},"\u003C",[147,1525,1526],{"class":153},"script",[147,1528,1530],{"class":1529},"sY_PY"," setup",[147,1532,1533],{"class":161},">\n",[147,1535,1536,1538],{"class":149,"line":165},[147,1537,324],{"class":153},[147,1539,1540],{"class":161}," { \n",[147,1542,1543],{"class":149,"line":177},[147,1544,1545],{"class":161},"  searchQuery, \n",[147,1547,1548],{"class":149,"line":188},[147,1549,1550],{"class":161},"  searchResults, \n",[147,1552,1553],{"class":149,"line":198},[147,1554,1555],{"class":161},"  isLoading, \n",[147,1557,1558],{"class":149,"line":208},[147,1559,1560],{"class":161},"  handleSearch, \n",[147,1562,1563],{"class":149,"line":222},[147,1564,1565],{"class":161},"  clearSearch,\n",[147,1567,1568],{"class":149,"line":232},[147,1569,1570],{"class":161},"  highlightText,\n",[147,1572,1573],{"class":149,"line":243},[147,1574,1575],{"class":161},"  getContentPreview,\n",[147,1577,1578],{"class":149,"line":249},[147,1579,1580],{"class":161},"  formatDate \n",[147,1582,1583,1586,1588,1590,1593],{"class":149,"line":256},[147,1584,1585],{"class":161},"} ",[147,1587,376],{"class":153},[147,1589,633],{"class":153},[147,1591,1592],{"class":327}," useSearch",[147,1594,1595],{"class":161},"({\n",[147,1597,1598,1600,1602,1604,1606,1608],{"class":149,"line":266},[147,1599,269],{"class":161},[147,1601,171],{"class":153},[147,1603,275],{"class":274},[147,1605,279],{"class":278},[147,1607,1218],{"class":274},[147,1609,1610],{"class":161},",\n",[147,1612,1613,1615,1617,1620],{"class":149,"line":285},[147,1614,288],{"class":161},[147,1616,171],{"class":153},[147,1618,1619],{"class":379}," 300",[147,1621,1610],{"class":161},[147,1623,1624,1626,1628],{"class":149,"line":295},[147,1625,298],{"class":161},[147,1627,171],{"class":153},[147,1629,520],{"class":379},[147,1631,1632],{"class":149,"line":305},[147,1633,1634],{"class":161},"})\n",[147,1636,1637,1640,1642],{"class":149,"line":571},[147,1638,1639],{"class":161},"\u003C/",[147,1641,1526],{"class":153},[147,1643,1533],{"class":161},[147,1645,1646],{"class":149,"line":908},[147,1647,253],{"emptyLinePlaceholder":252},[147,1649,1650,1652,1655],{"class":149,"line":924},[147,1651,1523],{"class":161},[147,1653,1654],{"class":153},"template",[147,1656,1533],{"class":161},[147,1658,1660,1663,1666],{"class":149,"line":1659},19,[147,1661,1662],{"class":161},"  \u003C",[147,1664,1665],{"class":153},"div",[147,1667,1533],{"class":161},[147,1669,1671,1674,1677],{"class":149,"line":1670},20,[147,1672,1673],{"class":161},"    \u003C",[147,1675,1676],{"class":153},"input",[147,1678,662],{"class":161},[147,1680,1682,1685,1687,1690,1693,1695],{"class":149,"line":1681},21,[147,1683,1684],{"class":1529},"      v-model",[147,1686,376],{"class":153},[147,1688,1689],{"class":274},"\"",[147,1691,1692],{"class":161},"searchQuery",[147,1694,1689],{"class":274},[147,1696,662],{"class":161},[147,1698,1700,1703,1705,1707,1709,1712],{"class":149,"line":1699},22,[147,1701,1702],{"class":161},"      @",[147,1704,1676],{"class":1529},[147,1706,376],{"class":153},[147,1708,1689],{"class":274},[147,1710,1711],{"class":161},"handleSearch",[147,1713,1714],{"class":274},"\"\n",[147,1716,1718,1721,1723,1725,1728],{"class":149,"line":1717},23,[147,1719,1720],{"class":1529},"      placeholder",[147,1722,376],{"class":153},[147,1724,1689],{"class":274},[147,1726,1727],{"class":278},"Search posts...",[147,1729,1714],{"class":274},[147,1731,1733],{"class":149,"line":1732},24,[147,1734,1735],{"class":161},"    />\n",[147,1737,1739],{"class":149,"line":1738},25,[147,1740,1741],{"class":161},"    \n",[147,1743,1745,1747,1749,1752,1754,1757,1759,1762,1764],{"class":149,"line":1744},26,[147,1746,1673],{"class":161},[147,1748,1665],{"class":153},[147,1750,1751],{"class":153}," v-if=",[147,1753,1689],{"class":274},[147,1755,1756],{"class":161},"isLoading",[147,1758,1689],{"class":274},[147,1760,1761],{"class":161},">Searching...\u003C/",[147,1763,1665],{"class":153},[147,1765,1533],{"class":161},[147,1767,1769],{"class":149,"line":1768},27,[147,1770,1741],{"class":161},[147,1772,1774,1776,1778,1781,1783,1786,1789,1792,1794,1796,1799,1801,1803,1806,1808],{"class":149,"line":1773},28,[147,1775,1673],{"class":161},[147,1777,1665],{"class":153},[147,1779,1780],{"class":153}," v-for=",[147,1782,1689],{"class":274},[147,1784,1785],{"class":161},"result ",[147,1787,1788],{"class":153},"in",[147,1790,1791],{"class":161}," searchResults",[147,1793,1689],{"class":274},[147,1795,1221],{"class":161},[147,1797,1798],{"class":1529},"key",[147,1800,376],{"class":153},[147,1802,1689],{"class":274},[147,1804,1805],{"class":161},"result.id",[147,1807,1689],{"class":274},[147,1809,1533],{"class":161},[147,1811,1813,1816,1818,1821,1823,1825,1828,1831,1833,1837],{"class":149,"line":1812},29,[147,1814,1815],{"class":161},"      \u003C",[147,1817,40],{"class":153},[147,1819,1820],{"class":1529}," v-html",[147,1822,376],{"class":153},[147,1824,1689],{"class":274},[147,1826,1827],{"class":327},"highlightText",[147,1829,1830],{"class":161},"(result.title, searchQuery)",[147,1832,1689],{"class":274},[147,1834,1836],{"class":1835},"sVm5P"," /",[147,1838,1533],{"class":161},[147,1840,1842,1844,1846,1848,1851,1854,1857,1860,1862,1864],{"class":149,"line":1841},30,[147,1843,1815],{"class":161},[147,1845,14],{"class":153},[147,1847,868],{"class":161},[147,1849,1850],{"class":153},"{{",[147,1852,1853],{"class":327}," getContentPreview",[147,1855,1856],{"class":161},"(result.content) ",[147,1858,1859],{"class":153},"}}",[147,1861,1639],{"class":161},[147,1863,14],{"class":153},[147,1865,1533],{"class":161},[147,1867,1869,1871,1874,1876,1878,1881,1884,1886,1888,1890],{"class":149,"line":1868},31,[147,1870,1815],{"class":161},[147,1872,1873],{"class":153},"small",[147,1875,868],{"class":161},[147,1877,1850],{"class":153},[147,1879,1880],{"class":327}," formatDate",[147,1882,1883],{"class":161},"(result.date) ",[147,1885,1859],{"class":153},[147,1887,1639],{"class":161},[147,1889,1873],{"class":153},[147,1891,1533],{"class":161},[147,1893,1895,1898,1900],{"class":149,"line":1894},32,[147,1896,1897],{"class":161},"    \u003C/",[147,1899,1665],{"class":153},[147,1901,1533],{"class":161},[147,1903,1905,1908,1910],{"class":149,"line":1904},33,[147,1906,1907],{"class":161},"  \u003C/",[147,1909,1665],{"class":153},[147,1911,1533],{"class":161},[147,1913,1915,1917,1919],{"class":149,"line":1914},34,[147,1916,1639],{"class":161},[147,1918,1654],{"class":153},[147,1920,1533],{"class":161},[23,1922,1924],{"id":1923},"benefits-of-this-approach","Benefits of This Approach",[40,1926,1928,1929],{"id":1927},"relevance-based-results","🔍 ",[18,1930,1931],{},"Relevance-Based Results",[14,1933,1934],{},"Unlike simple text matching, our scoring system ensures the most relevant content appears first.",[40,1936,1938,1939],{"id":1937},"performance-optimized","🚀 ",[18,1940,1941],{},"Performance Optimized",[14,1943,1944],{},"Debouncing and result limiting keep the search responsive even with large content collections.",[40,1946,1948,1949],{"id":1947},"️-security-conscious","🛡️ ",[18,1950,1951],{},"Security Conscious",[14,1953,1954],{},"HTML escaping prevents XSS attacks when highlighting search terms.",[40,1956,1958,1959],{"id":1957},"uiux-focused","🎨 ",[18,1960,1961],{},"UI/UX Focused",[14,1963,1964],{},"Built-in text highlighting, content previews, and loading states enhance the user experience.",[40,1966,1968,1969],{"id":1967},"highly-configurable","🔧 ",[18,1970,1971],{},"Highly Configurable",[14,1973,1974],{},"Customizable debounce delays, result limits, and collection targeting make it adaptable to different use cases.",[23,1976,1978],{"id":1977},"conclusion","Conclusion",[14,1980,29,1981,1983],{},[31,1982,33],{}," composable demonstrates how thoughtful architecture can create powerful, user-friendly search functionality. By combining Vue 3's composition API with smart scoring algorithms and performance optimizations, we've built a search system that's both powerful and pleasant to use.",[14,1985,1986],{},"The modular design makes it easy to extend—you could add features like search history, autocomplete suggestions, or even more sophisticated scoring algorithms based on user behavior.",[14,1988,1989],{},"Want to see this in action? Try searching for any term in our blog's search bar above! 🔍",[1991,1992,1993],"style",{},"html pre.shiki code .s0Tla, html code.shiki .s0Tla{--shiki-default:#FF79C6}html pre.shiki code .sCp4m, html code.shiki .sCp4m{--shiki-default:#8BE9FD;--shiki-default-font-style:italic}html pre.shiki code .sCdxs, html code.shiki .sCdxs{--shiki-default:#F8F8F2}html pre.shiki code .seVfx, html code.shiki .seVfx{--shiki-default:#E9F284}html pre.shiki code .s-mGx, html code.shiki .s-mGx{--shiki-default:#F1FA8C}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .sAOxA, html code.shiki .sAOxA{--shiki-default:#50FA7B}html pre.shiki code .sGEwX, html code.shiki .sGEwX{--shiki-default:#FFB86C;--shiki-default-font-style:italic}html pre.shiki code .sIQBb, html code.shiki .sIQBb{--shiki-default:#BD93F9}html pre.shiki code .s-doY, html code.shiki .s-doY{--shiki-default:#FF5555}html pre.shiki code .sLL85, html code.shiki .sLL85{--shiki-default:#8BE9FD}html pre.shiki code .sviCg, html code.shiki .sviCg{--shiki-default:#FF79C6;--shiki-default-font-weight:bold}html pre.shiki code .sY_PY, html code.shiki .sY_PY{--shiki-default:#50FA7B;--shiki-default-font-style:italic}html pre.shiki code .sVm5P, html code.shiki .sVm5P{--shiki-default:#FF5555;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline}",{"title":143,"searchDepth":165,"depth":165,"links":1995},[1996,1997,2002,2006,2011,2015,2016,2028],{"id":25,"depth":165,"text":26},{"id":37,"depth":165,"text":38,"children":1998},[1999,2000,2001],{"id":42,"depth":177,"text":43},{"id":77,"depth":177,"text":78},{"id":101,"depth":177,"text":102},{"id":131,"depth":165,"text":132,"children":2003},[2004,2005],{"id":135,"depth":177,"text":136},{"id":310,"depth":177,"text":311},{"id":606,"depth":165,"text":607,"children":2007},[2008,2009,2010],{"id":610,"depth":177,"text":611},{"id":685,"depth":177,"text":686},{"id":964,"depth":177,"text":965},{"id":1073,"depth":165,"text":1074,"children":2012},[2013,2014],{"id":1077,"depth":177,"text":1078},{"id":1245,"depth":177,"text":1246},{"id":1510,"depth":165,"text":1511},{"id":1923,"depth":165,"text":1924,"children":2017},[2018,2020,2022,2024,2026],{"id":1927,"depth":177,"text":2019},"🔍 Relevance-Based Results",{"id":1937,"depth":177,"text":2021},"🚀 Performance Optimized",{"id":1947,"depth":177,"text":2023},"🛡️ Security Conscious",{"id":1957,"depth":177,"text":2025},"🎨 UI/UX Focused",{"id":1967,"depth":177,"text":2027},"🔧 Highly Configurable",{"id":1977,"depth":165,"text":1978},"2024-03-23","Deep dive into how the custom search functionality works in our Nuxt blog, including scoring algorithms, debouncing, and real-time filtering.","md","2025-06-06T19:03:31.248Z",{},"/blog/understanding-usesearch-composable",{"title":5,"description":2030},"blog/understanding-usesearch-composable",[2038,1516,2039,2040,142],"nuxt","composables","search",895,"7_K2gWH8hVLKeRM_DZgmAOb2fmPh3CmYoUMfqCm5PM4",1749236625377]